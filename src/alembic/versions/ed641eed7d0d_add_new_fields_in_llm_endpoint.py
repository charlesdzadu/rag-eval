"""add new fields in llm endpoint

Revision ID: ed641eed7d0d
Revises: 60709b51a054
Create Date: 2023-12-26 12:14:46.824668

"""
from typing import Sequence, Union

from alembic import op
import sqlalchemy as sa


# revision identifiers, used by Alembic.
revision: str = "ed641eed7d0d"
down_revision: Union[str, None] = "60709b51a054"
branch_labels: Union[str, Sequence[str], None] = None
depends_on: Union[str, Sequence[str], None] = None


def upgrade() -> None:
    # ### commands auto generated by Alembic - please adjust! ###
    op.add_column("datasets", sa.Column("follow_up_depth", sa.Integer(), nullable=True))
    op.add_column(
        "llm_endpoints", sa.Column("access_token", sa.String(), nullable=True)
    )
    op.add_column(
        "llm_endpoints", sa.Column("payload_format", sa.String(), nullable=True)
    )
    op.add_column(
        "llm_endpoints", sa.Column("payload_user_key", sa.String(), nullable=True)
    )
    op.add_column(
        "llm_endpoints", sa.Column("payload_message_key", sa.String(), nullable=True)
    )
    op.add_column("llm_endpoints", sa.Column("http_method", sa.String(), nullable=True))
    # ### end Alembic commands ###


def downgrade() -> None:
    # ### commands auto generated by Alembic - please adjust! ###
    op.drop_column("llm_endpoints", "http_method")
    op.drop_column("llm_endpoints", "payload_message_key")
    op.drop_column("llm_endpoints", "payload_user_key")
    op.drop_column("llm_endpoints", "payload_format")
    op.drop_column("llm_endpoints", "access_token")
    op.drop_column("datasets", "follow_up_depth")
    # ### end Alembic commands ###
